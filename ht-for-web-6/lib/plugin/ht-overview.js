!function(s,r){"use strict";var f="ht",u=f+".graph.",v=s[f],t=v.graph,K=v.Default,m=v.Color,V=null,O="px",Q=K.getInternal(),C=Q.getPinchDist,R=K.preventDefault,j=K.getTouchCount,D=K.startDragging;Q.addMethod(K,{overviewBackground:m.widgetBackground,overviewMaskBackground:m.transparent,overviewContentBorderColor:m.widgetBorder,overviewContentBackground:m.background},!0),t.Overview=function(u){var H=this,F=H._view=Q.createView(1,H);H._canvas=Q.createCanvas(F),F.style.background=K.overviewBackground,F.appendChild(H._mask=Q.createDiv()),H.setGraphView(u),H.addListeners()},K.def(u+"Overview",r,{ms_v:1,ms_fire:1,ms_listener:1,ms_ac:["maskBackground","contentBorderColor","contentBackground","autoUpdate"],_autoUpdate:!0,_rate:1,_scrollRect:{x:0,y:0,width:0,height:0},_maskBackground:K.overviewMaskBackground,_contentBorderColor:K.overviewContentBorderColor,_contentBackground:K.overviewContentBackground,getGraphView:function(){return this.gv},setGraphView:function(k){var U=this;if(U.gv!==k){var s=U.gv;U.gv=k,s&&(s.removeViewListener(U.handleGraphViewChanged,U),s.ump(U.handleGraphViewPropertyChanged,U)),k&&(k.addViewListener(U.handleGraphViewChanged,U),k.mp(U.handleGraphViewPropertyChanged,U)),U.fp("graphView",s,k),U.redraw()}},getCanvas:function(){return this._canvas},getMask:function(){return this._mask},dispose:function(){this.setGraphView(null)},onPropertyChanged:function(){this.redraw()},handleGraphViewChanged:function(Y){this._autoUpdate&&"validate"===Y.kind&&this.redraw()},handleGraphViewPropertyChanged:function(r){"canvasBackground"===r.property&&this.redraw()},redraw:function(){var j=this;j._redraw||(j._redraw=1,j.iv(50))},validateImpl:function(){var B=this,q=B.gv,E=B._canvas,C=B.getWidth(),J=B.getHeight(),v=B._redraw;if(q){var p=B._mask,u=p.style,N=q.getViewRect(),z=q.getScrollRect(),D=z.x,l=z.y,W=z.width,g=z.height,k=B._rate=Math.max(W/C,g/J),n=B._x=(C-W/k)/2,S=B._y=(J-g/k)/2;if(0!==N.width&&0!==N.height||B.hasRetry||(K.callLater(B.iv,B,V),B.hasRetry=!0),(C!==E.clientWidth||J!==E.clientHeight)&&(Q.setCanvas(E,C,J),v=1),Q.isSameRect(z,B._scrollRect)||(B._scrollRect=z,v=1),v){var f=Q.initContext(E),_=q.getDataModel().getBackground()||B._contentBackground,Z=B._contentBorderColor,R=K.devicePixelRatio;f.clearRect(0,0,C*R,J*R),_&&Q.fillRect(f,n*R,S*R,W/k*R,g/k*R,_),Q.translateAndScale(f,-D/k+n,-l/k+S,1/k),q._42(f),f.restore(),Z&&Q.drawBorder(f,Z,n*R,S*R,W/k*R,g/k*R)}u.background=B._maskBackground,u.left=n+(N.x-D)/k+O,u.top=S+(N.y-l)/k+O,u.width=N.width/k+O,u.height=N.height/k+O,B._redraw=null}else if(v){var f=Q.initContext(E);f.clearRect(0,0,C,J),f.restore(),B._redraw=null}},center:function(C){var J=this,F=J.gv;if(F){var E=F._zoom,t=F._29I,H=J._rate,n=J._scrollRect,d=K.getLogicalPoint(C,J._canvas),O=n.x+(d.x-J._x)*H,b=n.y+(d.y-J._y)*H;F.setTranslate((t.width/2-O)*E,(t.height/2-b)*E)}},handle_mousedown:function(C){this.handle_touchstart(C)},handleWindowMouseUp:function(V){this.handleWindowTouchEnd(V)},handleWindowMouseMove:function(o){this.handleWindowTouchMove(o)},handle_mousewheel:function(f){this.handleScroll(f,f.wheelDelta)},handle_DOMMouseScroll:function(u){2===u.axis&&this.handleScroll(u,-u.detail)},handleScroll:function(X,$){if(R(X),this.gv){var s=this.gv;$>0?s.scrollZoomIn():0>$&&s.scrollZoomOut()}},handle_touchstart:function(B){if(R(B),this.gv&&K.isLeftButton(B)){var P=this,I=P.gv,e=j(B);1===e?K.isDoubleClick(B)&&I.isResettable()?I.reset():(P.center(B),D(P,B)):2===e&&(P._dist=C(B),D(P,B))}},handleWindowTouchEnd:function(){delete this._dist},handleWindowTouchMove:function(y){if(this.gv){var T=this,p=T._dist,e=j(y);1===e?T.center(y):2===e&&p!=V&&T.gv.handlePinch(V,C(y),p)}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);