!function(I,W){"use strict";var t="ht",L=I[t],w="px",y="left",e="top",X="bottom",C="right",m="innerHTML",j="className",D="",x="width",N="height",V="string",u="position",g="absolute",_="0",l="opacity",B="background",F=L.Default,c=F.getInternal(),z=L.Color,v=F.animate,K=F.isTouchable,A=null,r=(Math.sqrt,I.parseInt),b=I.setTimeout,J=(Math.round,z.titleIconBackground),M=function(Y){return typeof Y===V||Y instanceof String},U=function(){return document},E=function(d){return U().createElement(d)},S=function(){var M=E("div");return M.tabIndex=-1,M.style.outline="none",M},G=function(){return E("canvas")},H=function(M,O){R(M,"-webkit-transform",O),R(M,"-ms-transform",O),R(M,"transform",O)},R=function(m,f,C){m.style.setProperty(f,C,A)},i=function(O,E,$){F.def(L.widget[O],E,$)},Y=function(w,N){w.appendChild(N)},h=function(){return U().documentElement},o=function(){return h().clientWidth},Q=function(){return h().clientHeight},Z=function($,V,k,c){$.addEventListener(V,k,!!c)},O=function(b){var T=b.touches[0];return T?T:b.changedTouches[0]};c.addMethod(F,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:J},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:J}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:J},{type:"rect",rect:[10,10,80,20],background:J}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:J},{type:"rect",rect:[10,34,56,14],background:J},{type:"rect",rect:[34,10,56,14],background:J},{type:"rect",rect:[82,10,8,56],background:J},{type:"rect",rect:[66,62,24,8],background:J}]},dialogTitleLabelColor:F.labelSelectColor,dialogTitleLabelFont:(K?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:F.labelFont,dialogTitleBackground:z.titleBackground,dialogHeaderBackground:z.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var a=function(M){var W=this;W.$1d=M,W.addListeners()};F.def(a,W,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(k){var j=this,b=j.$1d,i=b.$6d,m=b._config,X=b.$7d,_=k,R=k.target;if(X.contains(R)||F.preventDefault(k),F.isLeftButton(k)){K&&(_=O(k));var h=j.$8d={x:_.pageX,y:_.pageY};j.$9d={x:h.x,y:h.y},!m.maximized&&m.draggable&&i.contains(R)&&(j.$4d=!0,F.startDragging(j,k)),j.handle_mousemove(k)&&(j.$2d=!0,F.startDragging(j,k)),X.contains(k.target)||b.$41d.focus()}},handle_mousedown:function(N){this.handle_touchstart(N)},handle_touchend:function(S){if(F.isLeftButton(S)&&!this.$5d&&!this.$3d){var h=this,f=h.$1d,P=S.target,N=f._config,Y=f.$18d,O=f.$16d;for(N.closable&&Y.contains(P)&&f.hide(),N.maximizable&&O.contains(P)&&(N.maximized?f.restore():f.maximize());P&&(P.className||"").indexOf("dialog-button")<0;)P=P.parentNode;P&&P.buttonItem&&f.action&&f.action(P.buttonItem,S),delete h.$8d,delete h.$9d}},handle_mouseup:function(J){this.handle_touchend(J)},handleWindowTouchEnd:function(W){var I=this,f=I.$1d,R=f.$10d;I.$2d&&I.$3d?R.fire({kind:"endResize",target:f,originEvent:W}):I.$4d&&I.$5d&&R.fire({kind:"endMove",target:f,originEvent:W}),this.clear()},handleWindowMouseUp:function(i){this.handleWindowTouchEnd(i)},handle_mousemove:function(v){var $=this.$1d._config;if($.maximized)return!1;if("w"!==$.resizeMode&&"h"!==$.resizeMode&&"wh"!==$.resizeMode)return!1;var h=this,q=h.getView(),d=q.querySelector(".resize-area"),f=d.getBoundingClientRect(),U={x:f.left,y:f.top,width:f.width,height:f.height};v=K?O(v):v;var S=v.clientX,k=v.clientY,n={x:S,y:k};return F.containsPoint(U,n)?(R(q,"cursor","nwse-resize"),!0):(R(q,"cursor",D),void 0)},handleWindowTouchMove:function(m){m.preventDefault();var i=m;K&&(i=O(m));var B=this,h=B.$8d,q=B.$9d;if(!(q.x==h.x&&q.y==h.y&&F.getDistance(q,{x:i.pageX,y:i.pageY})<=1)){var V=B.$1d,n=V._config,$=V.$21d,d=n.resizeMode||"wh",I=i.pageX-h.x,T=i.pageY-h.y;if(B.$2d){var t=$.offsetWidth,C=$.offsetHeight,M=t+I,z=C+T;if(M=Math.max(M,50),z=Math.max(z,50),"center"===n.position||n.position==A){var S={},X=$.getBoundingClientRect();S.x=X.left,S.y=X.top,n.position=S}"w"===d?(V.setSize(M,C),h.x+=M-t):"h"===d?(V.setSize(t,z),h.y+=z-C):"wh"===d&&(V.setSize(M,z),h.x+=M-t,h.y+=z-C),B.$3d?V.$10d.fire({kind:"betweenResize",target:V,originEvent:m}):(B.$3d=!0,V.$10d.fire({kind:"beginResize",target:V,originEvent:m}))}else if(B.$4d){var k=$.getBoundingClientRect(),Z=k.width,x=k.height,W=o(),f=Q(),D=r($.style.left)||0,L=r($.style.top)||0,l=D+I,s=L+T,Y=V.adjustPosition({x:l,y:s},{width:Z,height:x},{width:W,height:f});Y&&(l=Y.x,s=Y.y);var N=l-D,c=s-L;R($,y,l+w),R($,e,s+w),h.x+=N,h.y+=c,n.position={x:l,y:s},B.$5d?V.$10d.fire({kind:"betweenMove",target:V,originEvent:m}):(B.$5d=!0,V.$10d.fire({kind:"beginMove",target:V,originEvent:m}))}}},handleWindowMouseMove:function(C){this.handleWindowTouchMove(C)},handleWindowResize:function(){var B=this,F=B,G=F._config,t=F.$21d,H=o(),j=Q(),M=G.width,O=G.height,P=G.position||"center";G.maximized?(R(t,x,H+w),R(t,N,j+w),R(t,e,_),R(t,y,_)):(R(t,x,M+w),R(t,N,O+w),"center"===P?(R(t,y,(H-M)/2+w),R(t,e,(j-O)/2+w)):(R(t,y,P.x+w),R(t,e,P.y+w))),F.iv()},handle_mousewheel:function(k){k.stopPropagation()},handle_DOMMouseScroll:function(Y){Y.stopPropagation()}}),L.widget.Dialog=function(C){var i=this,r=i._view=c.createView(null,i);r[j]="ht-widget-dialog",R(r,u,g),F.baseZIndex!=A&&R(r,"z-index",F.baseZIndex+"");var W=i.$11d=new a(i);i.bindingHandleWindowResize=W.handleWindowResize.bind(i),i.$10d=new L.Notifier,C&&i.setConfig(C)},i("Dialog",W,{ms_v:1,setTitle:function(K){this._config.title=K,this.getView().querySelector(".dialog-container-title span").innerHTML=K},$31d:function(){var O=this,v=O.$6d=S(),z=O._config,I=O.$12d=O.$13d();v[j]="dialog-container-title",R(v,"cursor","default"),R(v,"white-space","nowrap"),R(v,"overflow","hidden"),R(v,"font",F.dialogTitleLabelFont),R(v,B,z.titleBackground||F.dialogTitleBackground),R(v,"color",z.titleColor||F.dialogTitleLabelColor);var G=E("span"),o=O.$25d();if(z.titleAlign&&R(v,"text-align",z.titleAlign),z.titleIcon){var X=O.$14d=O.$15d();Y(v,X)}if(G[m]=z.title||"&nbsp;",Y(v,G),z.maximizable){var b=O.$16d=O.$17d();Y(I,b)}if(z.closable){var t=O.$18d=O.$19d();Y(I,t)}return Y(v,I),R(v,"display","block"),R(v,"line-height",o+w),v},$13d:function(){var K=S();return R(K,u,g),R(K,y,_),R(K,C,5+w),R(K,e,_),R(K,X,_),R(K,"text-align",C),R(K,"white-space","nowrap"),K[j]="dialog-title-controls",K},$20d:function(){var I=this.$21d=S(),U=this._config,J=U.borderWidth;return R(I,u,"fixed"),R(I,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),R(I,"padding",_+" "+J+w+" "+J+w+" "+J+w),R(I,"box-sizing","border-box"),R(I,"-moz-box-sizing","border-box"),I[j]="dialog-container",R(I,B,U.titleBackground||F.dialogTitleBackground),I},$22d:function(){var Z,H=this,E=H._config,P=H.$7d=S(),J=E.content,O=0,D=E.contentPadding||0;E.buttons!=A&&E.buttons.length>0&&(O=32),M(J)?P[m]=J:J.getView?(Z=J.getView(),Y(P,Z)):(Z=J,Y(P,Z)),R(P,u,g),R(P,"font",F.dialogContentLabelFont),L.Default.appendToScreen(P);var Q=P.offsetWidth+1,b=P.offsetHeight,o=H.$25d();return E.width==A&&(E.width=Q+10+2*D),E.height==A&&(E.height=b+o+O+5+2*D),L.Default.removeHTML(P),Z&&(R(Z,"box-sizing","border-box"),R(Z,"-moz-box-sizing","border-box"),R(Z,x,"100%"),R(Z,N,"100%")),P[j]="dialog-content",R(P,e,o+D+w),R(P,X,O+D+w),R(P,y,D+w),R(P,C,D+w),R(P,"overflow","hidden"),P},$23d:function(){var M=this.$41d=S();return M[j]="dialog-overlay",R(M,x,"100%"),R(M,N,"100%"),R(M,u,"fixed"),R(M,e,_),R(M,y,_),R(M,B,"rgba(235, 235, 235, 0.7)"),M},_config:A,setSize:function(T,x){var C=this,B=C._config;B&&(B.width=T,B.height=x,C.isShowing()&&(C.bindingHandleWindowResize(),C.iv()))},getConfig:function(){return this._config},$24d:function(){var s=this._config,D=s.titleIconSize||16;return K&&(D*=1.2),D},$25d:function(){var Y=this._config,U=Y.titleHeight||F.widgetTitleHeight;return U},$26d:function(r){R(r,"cursor","pointer"),R(r,"display","inline-block"),R(r,"margin-right",(K?8:4)+w),R(r,"vertical-align",e)},$27d:function(){var $=this.$30d=S(),Q=10;return K&&(Q=20),R($,x,Q+w),R($,N,Q+w),R($,u,g),R($,X,_),R($,C,_),$[j]="resize-area",$},$15d:function(){var R=this,U=G();U[j]="dialog-title-control dialog-title-control-icon";var i=R.$25d(),Y=R.$24d();return R.$26d(U),c.setCanvas(U,Y,i),U},$17d:function(){var E=G();E[j]="dialog-title-control dialog-title-control-maximize";var D=this.$25d(),L=this.$24d();return this.$26d(E),c.setCanvas(E,L,D),E},$19d:function(){var t=G();t[j]="dialog-title-control dialog-title-control-close";var D=this.$25d(),z=this.$24d();return this.$26d(t),c.setCanvas(t,z,D),t},$28d:function(){var M=S();return R(M,B,"white"),R(M,x,"100%"),R(M,N,"100%"),R(M,u,"relative"),M},$29d:function(){var n=this,G=S();R(G,"line-height",32+w),R(G,u,g),R(G,X,_),R(G,y,_),R(G,"white-space","nowrap"),R(G,"overflow","hidden"),R(G,C,_),R(G,B,F.dialogHeaderBackground),G[j]="dialog-container-buttons";var b=this._config,D=b.buttonsAlign||C,t=0;return R(G,"text-align",D),n.$42d=[],b.buttons.forEach(function(c){var T=new L.widget.Button,X=T.getView();X[j]="dialog-button "+c.className,X.buttonItem=c,n.$42d.push(T),T.setBorderColor(A),T.setBackground(F.dialogButtonBackground),T.setSelectBackground(F.dialogButtonSelectBackground),T.setLabelColor(F.dialogButtonLabelColor),R(X,u,"static"),R(X,"display","inline-block"),R(X,"text-align",y),R(X,"height",24+w);var z=K?10:5;D===y||D===C?R(X,"margin-"+D,z+w):0===t||R(X,"margin-"+y,z+w),R(X,"vertical-align","middle");var H=F.getTextSize(T.getLabelFont(),c.label).width+10;T.onClicked=function(I){c.action&&c.action.call(n,c,I)},T.setLabel(c.label),R(X,x,H+w),Y(G,T.getView()),t++}),G},setConfig:function(V){if(V){var p=this,j=p._view;p._config=V,p.action=V.action,j[m]=D,V.borderWidth==A&&(V.borderWidth=5);var e=p.$23d(),x=p.$28d(),$=p.$31d(),N=p.$22d(),O=p.$20d(),o=p.$30d=p.$27d();if(Y(j,e),Y(j,O),Y(O,x),Y(x,$),Y(x,N),V.buttons!=A&&V.buttons.length>0){var z=p.$29d();Y(x,z)}Y(O,o),V.maximized?(V.maximized=!1,p.bindingHandleWindowResize(),p.maximize(!0)):p.bindingHandleWindowResize(),p.isShowing()&&p.iv()}},hide:function(){var X=this,t=X.$21d,q=X.$41d,y=X._view;y[j]="ht-widget-dialog",v(t).duration(200).scale(.7).set(l,_).end(function(){X.onHidden&&X.onHidden(),L.Default.removeHTML(y),X.$10d.fire({kind:"hide",target:X})}),v(q).duration(200).set(l,_).end(),I.removeEventListener("resize",X.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(F){this.$41d.style.display=F?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var u=this,k=u._config,t=u.$21d;H(t,D),u.iv(),k.maximized?u.$10d.fire({kind:"maximize",target:u}):u.$10d.fire({kind:"restore",target:u})},maximize:function(p){var n=this,T=n.$21d,b=n._config;if(!b.maximized){b.maximized=!0,n.$33d(),n.$16d[j]="dialog-title-control dialog-title-control-minimize";var u=o(),B=Q(),F=b.width,c=b.height,d=r(T.style.left)||0,A=r(T.style.top)||0;n.$36d=F,n.$37d=c,n.$34d=d,n.$35d=A;var q=p?0:200;v(T).duration(q).set(y,_).set(e,_).set(x,u+w).set(N,B+w).end(function(){n.$32d()})}},restore:function(){var s=this,U=s.$34d,D=s.$35d,T=s.$36d,c=s.$37d,o=s._config;if(o.maximized&&(o.maximized=!1,s.$33d(),s.$16d[j]="dialog-title-control dialog-title-control-maximize",s.isShowing()&&U!=A&&D!=A&&T!=A&&c!=A)){var i=s.$21d;v(i).duration(200).set(y,U+w).set(e,D+w).set(x,T+w).set(N,c+w).end(function(){s.$32d()})}delete s.$34d,delete s.$35d,delete s.$36d,delete s.$37d},show:function(){var W=this,n=W._view,K=W._config,B=W.$21d,U=W.$41d;K&&K.zIndex!=A&&R(n,"z-index",K.zIndex+D),L.Default.appendToScreen(n),H(B,"scale(0.7)"),R(B,l,_),W.iv(),W.validate(),W._view[j]+=" dialog-show",b(function(){v(B).duration(200).scale(1).set(l,"1").end(function(){R(B,x,B.clientWidth+w),R(B,N,B.clientHeight+w),W.onShown&&W.onShown(),W.$10d.fire({kind:"show",target:W})}),v(U).duration(200).set(l,"1").end(),Z(I,"resize",W.bindingHandleWindowResize)},30)},setPosition:function(M){var z=this.$21d;z.style.left=M.x+"px",z.style.top=M.y+"px"},addEventListener:function(q,F,Q){this.$10d.add(q,F,Q)},removeEventListener:function(z,u){this.$10d.remove(z,u)},$38d:function(Z,V,o,w){var t=c.initContext(Z);c.translateAndScale(t,0,0,1),t.clearRect(0,0,o,o);var D=(o-w)/2;F.drawStretchImage(t,F.getImage(V),"fill",0,D,w,w),t.restore()},$33d:function(){var T=this,o=T._config,v=T.$16d,L=o.maximized?F.dialogRestoreIcon:F.dialogMaximizeIcon;if(v&&L){var Z=T.$25d(),b=T.$24d();T.$38d(v,F.getImage(L),Z,b)}},$39d:function(){var T=this,V=T._config,P=T.$14d,f=V.titleIcon;if(P&&f){var E=T.$25d(),u=T.$24d();T.$38d(P,F.getImage(f),E,u)}},$40d:function(){var $=this,o=$.$18d,r=F.dialogCloseIcon;if(o&&r){var e=$.$25d(),H=$.$24d();$.$38d(o,F.getImage(r),e,H)}},invalidate:function(O){var x=this,k=x.$42d;x._68I||(x._68I=1,F.callLater(x.validate,x,A,O),x.onInvalidated&&x.onInvalidated(),x.fireViewEvent("invalidate"));var e=x._config.content;e.invalidate&&e.invalidate(),k&&k.forEach(function(V){V.iv()})},validateImpl:function(){var J=this;J.$40d(),J.$33d(),J.$39d()},adjustPosition:function(C,E,R){var Q=E.width,K=E.height,Z=R.width,v=R.height,D=C.x,g=C.y,n=this._config,u=n.minDragSize||20;return"inside"===n.dragMode?(D+Q>Z&&(D=Z-Q),g+K>v&&(g=v-K),0>D&&(D=0),0>g&&(g=0)):(null==n.dragMode||"none"===n.dragMode)&&(-Q+u>D&&(D=-Q+u),D>Z-u&&(D=Z-u),g>v-u&&(g=v-u),0>g&&(g=0)),{x:D,y:g}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);